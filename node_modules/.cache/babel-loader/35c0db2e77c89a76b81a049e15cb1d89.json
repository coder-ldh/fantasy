{"remainingRequest":"/Users/wenjian/Desktop/github/fantasy/node_modules/babel-loader/lib/index.js!/Users/wenjian/Desktop/github/fantasy/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wenjian/Desktop/github/fantasy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wenjian/Desktop/github/fantasy/src/components/bookIndex/nowPlaying/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wenjian/Desktop/github/fantasy/src/components/bookIndex/nowPlaying/index.vue","mtime":1590044833795},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/cache-loader/dist/cjs.js","mtime":1590023966642},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/babel-loader/lib/index.js","mtime":1590023611809},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/cache-loader/dist/cjs.js","mtime":1590023966642},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/vue-loader/lib/index.js","mtime":1590023615263}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// 引入better-scroll   (⚠️使用全局组册scroll组件 )\n// import BScroll from \"better-scroll\";\nexport default {\n  name: \"nowPlaying\",\n  data: function data() {\n    return {\n      movieList: [],\n      flag: false,\n      msg: \"正在刷新\",\n      isLoading: true // 加载动画默认值为true\n\n    };\n  },\n  methods: {\n    // 点击触发进入详情页\n    handleToDetil: function handleToDetil(id) {\n      // console.log(id);\n      // 将id传入下一个组件中\n      this.$router.push(\"/book/detail/\" + id);\n    },\n    changeScroll: function changeScroll() {\n      var _this = this;\n\n      // console.log();\n      this.msg = \"正在更新\";\n      this.flag = true;\n      setTimeout(function () {\n        _this.flag = true;\n      }, 1000);\n    },\n    changeTouch: function changeTouch() {\n      var _this2 = this;\n\n      this.msg = \"更新完成\";\n      setTimeout(function () {\n        _this2.flag = false;\n      }, 1000);\n    }\n  },\n  // 页面加载获取数据\n  // 由于使用了 keep-alive\n  activated: function activated() {\n    var _this3 = this;\n\n    this.isLoading = true;\n    this.axios.get(\"http://localhost:9090/book/list\").then(function (res) {\n      // console.log(res.status)\n      // 作出判断数据是否获取成功\n      if (res.status === 200) {\n        _this3.movieList = res.data.data;\n        _this3.isLoading = false;\n      }\n    }); // this.$nextTick(() => {\n    //   var scroll = new BScroll(this.$refs.wrapper, {\n    //     tap: true,\n    //     probeType: 1\n    //   });\n    //   //  上拉刷新\n    //   scroll.on(\"scroll\", () => {\n    //     this.msg = \"正在更新\";\n    //     this.flag = true;\n    //     // setTimeout(() => {\n    //     //   this.flag = true;\n    //     // }, 1000);\n    //   });\n    //   scroll.on(\"scrollEnd\", () => {\n    //     // console.log(\"end\");\n    //     this.msg = \"更新完成\";\n    //     // this.flag = false;\n    //     setTimeout(() => {\n    //       this.flag = false;\n    //     }, 1000);\n    //   });\n    // });\n  },\n  // 私有过滤器\n  filters: {\n    imgFormat: function imgFormat(data, arg) {\n      return data.replace(/w\\.h/, arg);\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,GAAA,EAAA,MAHA;AAIA,MAAA,SAAA,EAAA,IAJA,CAIA;;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,yBAEA,EAFA,EAEA;AACA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,kBAAA,EAAA;AACA,KANA;AAOA,IAAA,YAPA,0BAOA;AAAA;;AACA;AACA,WAAA,GAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KAdA;AAeA,IAAA,WAfA,yBAeA;AAAA;;AACA,WAAA,GAAA,GAAA,MAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AApBA,GAVA;AAgCA;AACA;AACA,EAAA,SAlCA,uBAkCA;AAAA;;AACA,SAAA,SAAA,GAAA,IAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,iCAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA;AACA,UAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;AACA;AACA,KAPA,EAFA,CAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAlEA;AAmEA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,SAAA,EAAA,mBAAA,IAAA,EAAA,GAAA,EAAA;AACA,aAAA,IAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA;AACA;AAHA;AApEA,CAAA","sourcesContent":["<template>\n  <div id=\"nowPlaying\" ref=\"wrapper\">\n    <!-- 处理子组件传递过来的数据 -->\n    <loading v-if=\"isLoading\"></loading>\n    <scroller :changeScroll=\"changeScroll\" :changeTouchEnd=\"changeTouch\" v-else>\n      <ul>\n        <li v-if=\"flag\" style=\"text-align:center\">{{ msg }}</li>\n        <li class=\"box\" v-for=\"item in movieList\" :key=\"item.id\">\n          <div class=\"img\" @tap=\"handleToDetil(item.id)\">\n            <img :src=\"item.BookImageUrl | imgFormat('128.180')\" alt>\n          </div>\n          <div class=\"info\" @tap=\"handleToDetil(item.id)\">\n            <h2>\n              {{ item.BookName }}\n              <img src=\"@/assets/max.png\" v-if=\"item.version\" alt>\n            </h2>\n            <p>\n              影评：\n              <span>{{ item.BookIntro !==0?item.BookIntro:'暂无评分' }}</span>\n            </p>\n            <p>主演: {{ item.BookAuthor }}</p>\n            <p>{{ item.BookIntro }}</p>\n          </div>\n          <div class=\"buy\">\n            <button>购买</button>\n          </div>\n        </li>\n      </ul>\n    </scroller>\n  </div>\n</template>\n\n<script>\n// 引入better-scroll   (⚠️使用全局组册scroll组件 )\n// import BScroll from \"better-scroll\";\nexport default {\n  name: \"nowPlaying\",\n  data() {\n    return {\n      movieList: [],\n      flag: false,\n      msg: \"正在刷新\",\n      isLoading: true, // 加载动画默认值为true\n    };\n  },\n  methods: {\n    // 点击触发进入详情页\n    handleToDetil(id) {\n      // console.log(id);\n      // 将id传入下一个组件中\n      this.$router.push(\"/book/detail/\" + id);\n    },\n    changeScroll() {\n      // console.log();\n      this.msg = \"正在更新\";\n      this.flag = true;\n      setTimeout(() => {\n        this.flag = true;\n      }, 1000);\n    },\n    changeTouch() {\n      this.msg = \"更新完成\";\n      setTimeout(() => {\n        this.flag = false;\n      }, 1000);\n    }\n  },\n  // 页面加载获取数据\n  // 由于使用了 keep-alive\n  activated() {\n    this.isLoading = true;\n    this.axios.get(\"http://localhost:9090/book/list\").then(res => {\n      // console.log(res.status)\n      // 作出判断数据是否获取成功\n      if (res.status === 200) {\n        this.movieList = res.data.data;\n        this.isLoading = false;\n      }\n    });\n    // this.$nextTick(() => {\n    //   var scroll = new BScroll(this.$refs.wrapper, {\n    //     tap: true,\n    //     probeType: 1\n    //   });\n    //   //  上拉刷新\n    //   scroll.on(\"scroll\", () => {\n    //     this.msg = \"正在更新\";\n    //     this.flag = true;\n    //     // setTimeout(() => {\n    //     //   this.flag = true;\n    //     // }, 1000);\n    //   });\n    //   scroll.on(\"scrollEnd\", () => {\n    //     // console.log(\"end\");\n    //     this.msg = \"更新完成\";\n    //     // this.flag = false;\n    //     setTimeout(() => {\n    //       this.flag = false;\n    //     }, 1000);\n    //   });\n    // });\n  },\n  // 私有过滤器\n  filters: {\n    imgFormat: (data, arg) => {\n      return data.replace(/w\\.h/, arg);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#nowPlaying {\n  flex: 1;\n  padding: 0 10px;\n  // height: 300px;\n  margin-top: 80px;\n  margin-bottom: 60px;\n  ul {\n    overflow: auto;\n    .box {\n      display: flex;\n      // height: 1px;\n      align-self: center;\n      margin: 15px 0;\n    }\n    .img {\n      width: 64px;\n      height: 90px;\n      img {\n        width: 100%;\n        height: auto;\n      }\n    }\n    .info {\n      flex: 1;\n      margin-left: 10px;\n      position: relative;\n      h2 {\n        width: 150px;\n        margin-bottom: 15px;\n        font-weight: 500;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        img {\n          position: absolute;\n          top: 0;\n          right: 10px;\n          width: 50px;\n        }\n      }\n      p {\n        width: 200px;\n        margin: 10px 0;\n        font-size: 12px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        span {\n          color: coral;\n        }\n      }\n    }\n    .buy {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      button {\n        border: 0;\n        width: 47px;\n        height: 28px;\n        color: #fff;\n        border-radius: 4px;\n        background-color: red;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/bookIndex/nowPlaying"}]}