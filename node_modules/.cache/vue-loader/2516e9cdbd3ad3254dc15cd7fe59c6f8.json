{"remainingRequest":"/Users/wenjian/Desktop/github/fantasy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wenjian/Desktop/github/fantasy/src/components/bookIndex/hot/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wenjian/Desktop/github/fantasy/src/components/bookIndex/hot/index.vue","mtime":1590487311511},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/cache-loader/dist/cjs.js","mtime":1590023966642},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/babel-loader/lib/index.js","mtime":1590023611809},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/cache-loader/dist/cjs.js","mtime":1590023966642},{"path":"/Users/wenjian/Desktop/github/fantasy/node_modules/vue-loader/lib/index.js","mtime":1590023615263}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 引入better-scroll   (⚠️使用全局组册scroll组件 )\n// import BScroll from \"better-scroll\";\nexport default {\n  name: \"hot\",\n  data() {\n    return {\n      movieList: [],\n      flag: false,\n      msg: \"正在刷新\",\n      isLoading: true, // 加载动画默认值为true\n    };\n  },\n  methods: {\n    // 点击触发进入详情页\n    handleToDetil(id) {\n      // console.log(id);\n      // 将id传入下一个组件中\n      this.$router.push(\"/book/detail/\" + id);\n    },\n    changeScroll() {\n      // console.log();\n      this.msg = \"正在更新\";\n      this.flag = true;\n      setTimeout(() => {\n        this.flag = true;\n      }, 1000);\n    },\n    changeTouch() {\n      this.msg = \"更新完成\";\n      setTimeout(() => {\n        this.flag = false;\n      }, 1000);\n    }\n  },\n  // 页面加载获取数据\n  // 由于使用了 keep-alive\n  activated() {\n    this.isLoading = true;\n    this.axios.get(\"http://localhost:9090/book/list\").then(res => {\n      // console.log(res.status)\n      // 作出判断数据是否获取成功\n      if (res.status === 200) {\n        this.movieList = res.data.data;\n        this.isLoading = false;\n      }\n    });\n    // this.$nextTick(() => {\n    //   var scroll = new BScroll(this.$refs.wrapper, {\n    //     tap: true,\n    //     probeType: 1\n    //   });\n    //   //  上拉刷新\n    //   scroll.on(\"scroll\", () => {\n    //     this.msg = \"正在更新\";\n    //     this.flag = true;\n    //     // setTimeout(() => {\n    //     //   this.flag = true;\n    //     // }, 1000);\n    //   });\n    //   scroll.on(\"scrollEnd\", () => {\n    //     // console.log(\"end\");\n    //     this.msg = \"更新完成\";\n    //     // this.flag = false;\n    //     setTimeout(() => {\n    //       this.flag = false;\n    //     }, 1000);\n    //   });\n    // });\n  },\n  // 私有过滤器\n  filters: {\n    imgFormat: (data, arg) => {\n      return data.replace(/w\\.h/, arg);\n    }\n  }\n};\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/bookIndex/hot","sourcesContent":["<template>\n  <div id=\"nowPlaying\" ref=\"wrapper\">\n    <!-- 处理子组件传递过来的数据 -->\n    <loading v-if=\"isLoading\"></loading>\n    <scroller :changeScroll=\"changeScroll\" :changeTouchEnd=\"changeTouch\" v-else>\n      <ul>\n        <li v-if=\"flag\" style=\"text-align:center\">{{ msg }}</li>\n        <li class=\"box\" v-for=\"item in movieList\" :key=\"item.id\">\n          <div class=\"img\" @tap=\"handleToDetil(item.id)\">\n            <img :src=\"item.BookImageUrl | imgFormat('128.180')\" alt>\n          </div>\n          <div class=\"info\" @tap=\"handleToDetil(item.id)\">\n            <h2>\n              {{ item.BookName }}\n              <img src=\"@/assets/max.png\" v-if=\"item.version\" alt>\n            </h2>\n            <p>\n              影评：\n              <span>{{ item.BookIntro !==0?item.BookIntro:'暂无评分' }}</span>\n            </p>\n            <p>主演: {{ item.BookAuthor }}</p>\n            <p>{{ item.BookIntro }}</p>\n          </div>\n          <div class=\"buy\">\n            <button>点赞</button>\n          </div>\n        </li>\n      </ul>\n    </scroller>\n  </div>\n</template>\n\n<script>\n// 引入better-scroll   (⚠️使用全局组册scroll组件 )\n// import BScroll from \"better-scroll\";\nexport default {\n  name: \"hot\",\n  data() {\n    return {\n      movieList: [],\n      flag: false,\n      msg: \"正在刷新\",\n      isLoading: true, // 加载动画默认值为true\n    };\n  },\n  methods: {\n    // 点击触发进入详情页\n    handleToDetil(id) {\n      // console.log(id);\n      // 将id传入下一个组件中\n      this.$router.push(\"/book/detail/\" + id);\n    },\n    changeScroll() {\n      // console.log();\n      this.msg = \"正在更新\";\n      this.flag = true;\n      setTimeout(() => {\n        this.flag = true;\n      }, 1000);\n    },\n    changeTouch() {\n      this.msg = \"更新完成\";\n      setTimeout(() => {\n        this.flag = false;\n      }, 1000);\n    }\n  },\n  // 页面加载获取数据\n  // 由于使用了 keep-alive\n  activated() {\n    this.isLoading = true;\n    this.axios.get(\"http://localhost:9090/book/list\").then(res => {\n      // console.log(res.status)\n      // 作出判断数据是否获取成功\n      if (res.status === 200) {\n        this.movieList = res.data.data;\n        this.isLoading = false;\n      }\n    });\n    // this.$nextTick(() => {\n    //   var scroll = new BScroll(this.$refs.wrapper, {\n    //     tap: true,\n    //     probeType: 1\n    //   });\n    //   //  上拉刷新\n    //   scroll.on(\"scroll\", () => {\n    //     this.msg = \"正在更新\";\n    //     this.flag = true;\n    //     // setTimeout(() => {\n    //     //   this.flag = true;\n    //     // }, 1000);\n    //   });\n    //   scroll.on(\"scrollEnd\", () => {\n    //     // console.log(\"end\");\n    //     this.msg = \"更新完成\";\n    //     // this.flag = false;\n    //     setTimeout(() => {\n    //       this.flag = false;\n    //     }, 1000);\n    //   });\n    // });\n  },\n  // 私有过滤器\n  filters: {\n    imgFormat: (data, arg) => {\n      return data.replace(/w\\.h/, arg);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#nowPlaying {\n  flex: 1;\n  padding: 0 10px;\n  // height: 300px;\n  margin-top: 80px;\n  margin-bottom: 60px;\n  ul {\n    overflow: auto;\n    .box {\n      display: flex;\n      // height: 1px;\n      align-self: center;\n      margin: 15px 0;\n    }\n    .img {\n      width: 64px;\n      height: 90px;\n      img {\n        width: 100%;\n        height: auto;\n      }\n    }\n    .info {\n      flex: 1;\n      margin-left: 10px;\n      position: relative;\n      h2 {\n        width: 150px;\n        margin-bottom: 15px;\n        font-weight: 500;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        img {\n          position: absolute;\n          top: 0;\n          right: 10px;\n          width: 50px;\n        }\n      }\n      p {\n        width: 200px;\n        margin: 10px 0;\n        font-size: 12px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        span {\n          color: coral;\n        }\n      }\n    }\n    .buy {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      button {\n        border: 0;\n        width: 47px;\n        height: 28px;\n        color: #fff;\n        border-radius: 4px;\n        background-color: red;\n      }\n    }\n  }\n}\n</style>\n"]}]}